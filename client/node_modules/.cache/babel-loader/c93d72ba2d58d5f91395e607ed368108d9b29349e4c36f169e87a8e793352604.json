{"ast":null,"code":"// src/App.js\nimport React,{useRef,useEffect}from'react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io();function App(){const canvasRef=useRef(null);const colorsRef=useRef(null);const contextRef=useRef(null);const drawing=useRef(false);const userColor=useRef('#'+Math.floor(Math.random()*16777215).toString(16));useEffect(()=>{const canvas=canvasRef.current;const context=canvas.getContext('2d');contextRef.current=context;// Set canvas size\ncanvas.width=window.innerWidth;canvas.height=window.innerHeight;// Handle incoming drawing data\nsocket.on('drawing',onDrawingEvent);socket.on('clearCanvas',clearCanvas);// Clean up on unmount\nreturn()=>{socket.off('drawing',onDrawingEvent);socket.off('clearCanvas',clearCanvas);};},[]);const startDrawing=_ref=>{let{nativeEvent}=_ref;drawing.current=true;draw(nativeEvent);};const finishDrawing=()=>{drawing.current=false;contextRef.current.beginPath();};const draw=_ref2=>{let{nativeEvent}=_ref2;if(!drawing.current)return;const{offsetX,offsetY}=nativeEvent;contextRef.current.lineWidth=2;contextRef.current.lineCap='round';contextRef.current.strokeStyle=userColor.current;contextRef.current.lineTo(offsetX,offsetY);contextRef.current.stroke();contextRef.current.beginPath();contextRef.current.moveTo(offsetX,offsetY);// Emit drawing data to server\nsocket.emit('drawing',{offsetX,offsetY,color:userColor.current});};const onDrawingEvent=data=>{const context=contextRef.current;context.lineWidth=2;context.lineCap='round';context.strokeStyle=data.color;context.lineTo(data.offsetX,data.offsetY);context.stroke();context.beginPath();context.moveTo(data.offsetX,data.offsetY);};const clearCanvas=()=>{const canvas=canvasRef.current;const context=contextRef.current;context.clearRect(0,0,canvas.width,canvas.height);};const handleClearCanvas=()=>{clearCanvas();socket.emit('clearCanvas');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClearCanvas,children:\"Clear Canvas\"}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{border:'1px solid #000'},onMouseDown:startDrawing,onMouseUp:finishDrawing,onMouseOut:finishDrawing,onMouseMove:draw})]});}export default App;","map":{"version":3,"names":["React","useRef","useEffect","io","jsx","_jsx","jsxs","_jsxs","socket","App","canvasRef","colorsRef","contextRef","drawing","userColor","Math","floor","random","toString","canvas","current","context","getContext","width","window","innerWidth","height","innerHeight","on","onDrawingEvent","clearCanvas","off","startDrawing","_ref","nativeEvent","draw","finishDrawing","beginPath","_ref2","offsetX","offsetY","lineWidth","lineCap","strokeStyle","lineTo","stroke","moveTo","emit","color","data","clearRect","handleClearCanvas","children","onClick","ref","style","border","onMouseDown","onMouseUp","onMouseOut","onMouseMove"],"sources":["C:/Users/shaun/Desktop/100x/multilingual-chat-widget/client/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst socket = io();\n\nfunction App() {\n  const canvasRef = useRef(null);\n  const colorsRef = useRef(null);\n  const contextRef = useRef(null);\n  const drawing = useRef(false);\n  const userColor = useRef('#' + Math.floor(Math.random()*16777215).toString(16));\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    contextRef.current = context;\n\n    // Set canvas size\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    // Handle incoming drawing data\n    socket.on('drawing', onDrawingEvent);\n    socket.on('clearCanvas', clearCanvas);\n\n    // Clean up on unmount\n    return () => {\n      socket.off('drawing', onDrawingEvent);\n      socket.off('clearCanvas', clearCanvas);\n    };\n  }, []);\n\n  const startDrawing = ({ nativeEvent }) => {\n    drawing.current = true;\n    draw(nativeEvent);\n  };\n\n  const finishDrawing = () => {\n    drawing.current = false;\n    contextRef.current.beginPath();\n  };\n\n  const draw = ({ nativeEvent }) => {\n    if (!drawing.current) return;\n\n    const { offsetX, offsetY } = nativeEvent;\n\n    contextRef.current.lineWidth = 2;\n    contextRef.current.lineCap = 'round';\n    contextRef.current.strokeStyle = userColor.current;\n\n    contextRef.current.lineTo(offsetX, offsetY);\n    contextRef.current.stroke();\n    contextRef.current.beginPath();\n    contextRef.current.moveTo(offsetX, offsetY);\n\n    // Emit drawing data to server\n    socket.emit('drawing', {\n      offsetX,\n      offsetY,\n      color: userColor.current,\n    });\n  };\n\n  const onDrawingEvent = (data) => {\n    const context = contextRef.current;\n\n    context.lineWidth = 2;\n    context.lineCap = 'round';\n    context.strokeStyle = data.color;\n\n    context.lineTo(data.offsetX, data.offsetY);\n    context.stroke();\n    context.beginPath();\n    context.moveTo(data.offsetX, data.offsetY);\n  };\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const context = contextRef.current;\n    context.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  const handleClearCanvas = () => {\n    clearCanvas();\n    socket.emit('clearCanvas');\n  };\n\n  return (\n    <div>\n      <button onClick={handleClearCanvas}>Clear Canvas</button>\n      <canvas\n        ref={canvasRef}\n        style={{ border: '1px solid #000' }}\n        onMouseDown={startDrawing}\n        onMouseUp={finishDrawing}\n        onMouseOut={finishDrawing}\n        onMouseMove={draw}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}